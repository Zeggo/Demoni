(function(){function aa(a){var b=Math.sin(a);a=Math.cos(a);return[a,0,-b,0,0,1,0,0,b,0,a,0,0,0,0,1]}function ba(a){var b=Math.sin(a);a=Math.cos(a);return[1,0,0,0,0,a,-b,0,0,b,a,0,0,0,0,1]}function x(a,b,d){var g=[1,0,0,0,0,1,0,0,0,0,1,0,a,b,d,1];g.n=[1,0,0,0,0,1,0,0,0,0,1,0,-a,-b,-d,1];return g}function F(a,b,d){var g=[a,0,0,0,0,b,0,0,0,0,d,0,0,0,0,1];g.n=[1/a,0,0,0,0,1/b,0,0,0,0,1/d,0,0,0,0,1];return g}function ca(a){var b=aa(a);b.n=aa(-a);return b}function da(a){var b=ba(a);b.n=ba(-a);return b}
function T(a,b){var d,g,f,l=[];for(d=0;d<b.length;d++)l[d]=0;for(d=0;4>d;d++)for(g=0;g<b.length/4;g++)for(f=0;4>f;f++)l[4*g+d]+=a[4*f+d]*b[4*g+f];return l}function ea(a,b){var d=T(a,b);d.n=T(b.n,a.n);return d}function wa(a){return[a[0],a[4],a[8],0,a[1],a[5],a[9],0,a[2],a[6],a[10],0,0,0,0,1]}function I(a){var b=a.slice();this.c=function(d){d.unM4fv(d.geUL(u,"i"),!1,b)}}function xa(){this.c=function(a){U=a.n;U.n=a}}function fa(a,b){b=a.f.reduce(ea,b);e.unM4fv(e.geUL(u,"mv"),!1,b);e.unM4fv(e.geUL(u,
"nm"),!1,wa(b.n));a.o.map(function(d){d.c(e)});a.c.map(function(d){fa(d,b)})}function ha(a,b){b=a.f.reduce(ea,b);a.r&&a.r.map(function(d){d.c(b)});a.c.map(function(d){ha(d,b)})}function N(a,b,d){var g=d?d:1;this.n=b?b:10;this.c=function(f){var l=Math.sin(2*f*O*g);f=Math.cos(2*f*O*g);return[l,-f,0,0,0,0,1,0,-f,-l,0,0,-l*a,f*a,0,1]}}function ia(a,b,d,g){g=g?g:1;for(var f=0;4>f;f++)a.push(g*b[4*d+f])}function ja(a,b,d){var g,f,l=[],t=[],c=[],k=[],p=1.5*d.n|0,h=2*(p-1)*(b-1),A=e.crB(),y=e.crB(),n=e.crB(),
B=e.crB();for(g=0;g<p;g++){var C=g/(p-1);C=d.c(C);for(f=0;f<b;f++){var z=f/(b-1);z=a.c(z);z=T(C,z);ia(l,z,3);ia(t,z,0,-1);k.push((2*g+f+0)%3?0:1,(2*g+f+1)%3?0:1,(2*g+f+2)%3?0:1,1)}}for(g=0;g<p-1;g++)for(f=0;f<b-1;f++)c.push(g*b+f,g*b+f+1,(g+1)*b+f),c.push(g*b+f+1,(g+1)*b+f+1,(g+1)*b+f);e.biB(34962,A);e.buD(34962,new Float32Array(k),35044);e.biB(34962,n);e.buD(34962,new Float32Array(l),35044);e.biB(34962,y);e.buD(34962,new Float32Array(t),35044);e.biB(34963,B);e.buD(34963,new Uint16Array(c),35044);
this.c=function(q){q.biB(34962,A);q.enVAA(f=q.geAL(u,"g"));q.veAP(f,4,5126,!1,0,0);q.biB(34962,n);q.enVAA(f=q.geAL(u,"v"));q.veAP(f,4,5126,!1,0,0);q.biB(34962,y);q.enVAA(f=q.geAL(u,"N"));q.veAP(f,4,5126,!1,0,0);q.biB(34963,B);q.drE(4,3*h,5123,0)}}function K(a){for(var b={f:[],o:[],c:[]},d=0;d<a;d++)b.c.push({f:[x(Math.sqrt(d)-.2*d,Math.sqrt(d)+.1*d,0),F(1/(d+1),1/(d+1),1/(d+1))],o:[ya],c:[]});return b}function za(a){V.cpy(audio_time,4096,a.outputBuffer.getChannelData(0));audio_time+=4096}var u,G,
ka,la,P=document,U,O=Math.PI;clearColor=[0,0,0,0];defaultLightDirection=[1,1,1,0];var ma=null,na=function(a){ma||=a;var b=116*(a-ma)/6E4,d=innerWidth,g=innerHeight;d==ka&&g==la||e.vi(0,0,ka=G.width=d,la=G.height=g);a={f:[],o:[],c:[]};x(0,-3.3,0);var f=[.4,0,0,1,.4,.1,0,1,.4,0,0,1,3,0,0,0],l=[.2,0,0,1,.2,0,0,1,.2,0,0,1,4,0,0,0],t={f:[],o:[new I([0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1]),Aa],c:[]};a.c.push({f:[],o:[],c:[{f:[x(0,-3,0),F(1,1,1),x(0,Math.sqrt(b),0)],o:[new I(f)],c:[K(1),{f:[x(0,-2.8,0),F(2,2,
2)],o:[new I(f)],c:[K(1)]},{f:[x(.5,.5,0),F(.5,.5,.5)],o:[new I(l)],c:[K(6)]},{f:[x(-.5,.5,0),ca(3.14),F(.5,.5,.5)],o:[new I(l)],c:[K(6)]}]},{f:[x(0,0,0),F(Math.sqrt(.5*b),.1,Math.sqrt(.5*b))],o:[new I([.2,.2,.2,1,.6,.6,.6,1,0,0,0,1,2,1,0,0])],c:[K(1)]},{f:[F(2,1,3)],o:[],c:[t]},{f:[x(0,3,0),ca(.16*b),x(0,0,20-10*Math.sin(.01*b)),da(.2)],o:[],c:[],r:[new xa]}]});e.clC(clearColor[0],clearColor[1],clearColor[2],clearColor[3]);e.cl(16640);b=[5/(d/g),0,0,0,0,5,0,0,0,0,-1,-1,0,0,-1,0];e.unM4fv(e.geUL(u,
"p"),!1,b);e.usP(u);ha(a,da(0));e.un4fv(e.geUL(u,"l"),defaultLightDirection);fa(a,U);requestAnimationFrame(na)};P.body.innerHTML="Click!";P.body.appendChild(G=P.createElement("canvas"));var v=G.style;v.position="fixed";v.left=v.top=0;var e=G.getContext("experimental-webgl");for(v in e)e[v.match(/^..|[A-Z]|\d\D+$/g).join("")]=e[v];e.en(2929);e.en(2884);v=e.crS(35633);e.shS(v,"uniform mat4 mv,nm,p;attribute vec4 g,v,N;varying vec4 c,n,r;void main(){gl_Position=p*mv*v;n=nm*N;c=g;r=-mv*v;}");e.coS(v);
e.atS(u=e.crP(),v);v=e.crS(35632);e.shS(v,"uniform highp mat4 i;uniform highp vec4 l;varying highp vec4 c,n,r;void main(){gl_FragColor=i[3].bbbb*max(0.,1.-4.*min(c.b,min(c.g,c.r)))+max(i[0],i[1]*max(0.,dot(normalize(l),normalize(n)))+i[2]*pow(max(0.,dot(normalize(r),reflect(-normalize(l),normalize(n)))),i[3].r));}");e.coS(v);e.atS(u,v);e.liP(u);new function(a){var b=e.crB(),d=e.crB(),g=e.crB(),f=e.crB();a=[];var l=[],t=[];a=[-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,1,-1,-1,-1,1,-1,1,-1,1,1,1,-1,1,1,-1,-1,
1,-1,1,-1,1,-1,1,1,1,1,1,1,1,1,1,-1,1,-1,-1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,1,-1,-1,1,1,1,-1,1,1,1,1,1,1,-1,1,1,-1,-1,-1,1,-1,-1,1,1,-1,1,1,1,-1,1,-1,1];l=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0,-1,0,0,0];t=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23];e.biB(34962,b);e.buD(34962,new Float32Array(l),
35044);e.biB(34962,d);e.buD(34962,new Float32Array(a),35044);e.biB(34962,g);e.buD(34962,new Float32Array(l),35044);e.biB(34963,f);e.buD(34963,new Uint16Array(t),35044);this.c=function(c){var k;c.biB(34962,b);c.enVAA(k=c.geAL(u,"g"));c.veAP(k,4,5126,!1,0,0);c.biB(34962,d);c.enVAA(k=c.geAL(u,"v"));c.veAP(k,4,5126,!1,0,0);c.biB(34962,g);c.enVAA(k=c.geAL(u,"N"));c.veAP(k,4,5126,!1,0,0);c.biB(34963,f);c.drE(4,36,5123,0)}}(1);var ya=new ja(new N(1,10,.5),32,new N(0,32));var Aa=new ja(new N(-10,10,.5),32,
new N(0,32));var V=new function(){var a=function(c){return Math.sin(2*c*O)},b=[a,function(c){return.5>c%1?1:-1},function(c){return c%1*2-1},function(c){c=c%1*4;return 2>c?c-1:3-c}],d,g,f,l,t;this.i=function(c){d=c;g=c.ep;f=0;l=c.rl*c.pl*(g+1)*2;t=new Int32Array(l)};this.g=function(){var c,k,p,h,A,y=new Int32Array(l),n=d.s[f],B=d.rl,C=d.pl,z=0,q=0,H,Q=[];for(k=0;k<=g;++k){var L=n.p[k];for(p=0;p<C;++p){if(A=L?n.c[L-1].f[p]:0)n.i[A-1]=n.c[L-1].f[p+C]||0,17>A&&(Q=[]);var Ba=b[n.i[16]],Ca=n.i[17]/512,
Da=2**(n.i[18]-9)/B,Ea=n.i[19],oa=n.i[20],Fa=.00308*n.i[21],Ga=1-n.i[22]/255,W=1E-5*n.i[23],Ha=n.i[24]/32,Ia=n.i[25]/512,Ja=2*O*2**(n.i[26]-9)/B,pa=n.i[27]/255,X=n.i[28]*B&-2;A=(k*C+p)*B;for(h=0;4>h;++h)if(c=L?n.c[L-1].n[p+h*C]:0){if(!Q[c]){var m=Q;var w=c;var qa=H=void 0,R,D,r=n,ra=c,Ka=b[r.i[0]],La=r.i[1],Ma=r.i[3]/32,Na=b[r.i[4]],Oa=r.i[5],Pa=r.i[8]/32,sa=r.i[9],J=r.i[10]*r.i[10]*4,S=r.i[11]*r.i[11]*4,Y=r.i[12]*r.i[12]*4,Qa=1/Y,Ra=-r.i[13]/16,M=r.i[14],Sa=B*2**(2-r.i[15]),ta=new Int32Array(J+S+
Y),ua=0,va=0;for(R=D=0;D<J+S+Y;D++,R++){0<=R&&(M=M>>8|(M&255)<<4,R-=Sa,qa=.004*2**((ra+(M&15)+r.i[2]-128-128)/12),H=.004*2**((ra+(M&15)+r.i[6]-128-128)/12)*(1+8E-4*r.i[7]));var E=1;D<J?E=D/J:D>=J+S&&(E=(D-J-S)*Qa,E=(1-E)*3**(Ra*E));ua+=qa*E**Ma;var Z=Ka(ua)*La;va+=H*E**Pa;Z+=Na(va)*Oa;sa&&(Z+=(2*Math.random()-1)*sa);ta[D]=80*Z*E|0}m[w]=ta}w=Q[c];c=0;for(m=2*A;c<w.length;c++,m+=2)y[m]+=w[c]}for(c=0;c<B;c++)h=2*(A+c),m=y[h],w=Fa,Ea&&(w*=Ba(Da*h)*Ca+.5),w=1.5*Math.sin(w),z+=w*q,m=Ga*(m-q)-z,q+=w*m,m=
3==oa?q:1==oa?m:z,W&&(m*=W,m=1>m?-1<m?a(.25*m):-1:1,m/=W),m*=Ha,w=Math.sin(Ja*h)*Ia+.5,H=m*(1-w),m*=w,h>=X&&(H+=y[h-X+1]*pa,m+=y[h-X]*pa),y[h]=H|0,y[h+1]=m|0,t[h]+=H|0,t[h+1]+=m|0}}f++;return f/d.nc};this.createAudioBuffer=function(c){c=c.createBuffer(2,l/2,44100);for(var k=0;2>k;k++)for(var p=c.getChannelData(k),h=k;h<l;h+=2)p[h>>1]=t[h]/65536;return c};this.c=function(){var c=44+2*l-8,k=c-36,p=new Uint8Array(44+2*l);p.set([82,73,70,70,c&255,c>>8&255,c>>16&255,c>>24&255,87,65,86,69,102,109,116,32,
16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,k&255,k>>8&255,k>>16&255,k>>24&255]);c=0;for(k=44;c<l;++c){var h=t[c];h=-32767>h?-32767:32767<h?32767:h;p[k++]=h&255;p[k++]=h>>8&255}return p};this.cpy=function(c,k,p){for(var h=0;h<k;h++)p[h]=t[2*c+2*h]/32768}};for(V.i({s:[{i:[2,100,128,0,3,201,128,0,0,0,0,24,15,0,0,0,0,57,6,1,2,193,0,2,35,147,6,121,6],p:[1,2,3,4,6,2,3,4,1,2,3,6,2,2],c:[{n:[111,,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,111,,123,,137,,139],f:[]},{n:[111,111,
123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,111,,123,,125,,142],f:[]},{n:[109,,121,,133,,109,,121,,133,,109,,121,,135,,109,,121,,135,,109,,121,,135,,137],f:[]},{n:[104,104,116,,128,,116,,104,104,116,,128,,128,,104,104,116,,116,,104,,106,118,118,106,121,133,133,121],f:[]},{n:[103,,115,,127,,103,,115,,127,,103,,115,,113,,101,,125,,113,,101,,125,,113,,118],f:[]},{n:[111,111,123,,135,,111,,123,,135,,111,,123,,137,,111,,123,,137,,139,,123,,140,,152,,142,,,,,,,,,,,,,,,,144,,,,,,,,145,,,
,147],f:[]}]},{i:[2,100,128,0,3,201,128,0,0,0,0,24,17,0,0,0,0,57,6,1,2,193,0,0,32,147,6,121,6],p:[,,1,,1,,1],c:[{n:[156,154,,149],f:[]}]},{i:[0,255,116,64,0,255,116,0,64,0,4,6,35,0,0,0,0,0,0,0,2,14,0,0,32,0,0,0,0],p:[,,,,1,1,1,1,1],c:[{n:[135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135,135,,,135],f:[]}]},{i:[0,0,140,0,0,0,140,0,0,60,4,10,34,0,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,,,,1,1,1,1,1,1,,,1,1,1],c:[{n:[,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,,135,,,135,135],
f:[]}]}],rl:5703,pl:32,ep:14,nc:4});1>V.g(););audio_time=0;P.onclick=()=>{G.style.cursor="none";G.requestFullscreen();audioctx=new AudioContext({sampleRate:44100});sp=audioctx.createScriptProcessor(4096,0,1);sp.connect(audioctx.destination);sp.onaudioprocess=za;requestAnimationFrame(na)}})();
